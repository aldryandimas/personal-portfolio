<header 
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
  [class.bg-beige-50/90]="isScrolled()"
  [class.backdrop-blur-sm]="isScrolled()"
  [class.shadow-sm]="isScrolled()">
  <nav class="container mx-auto px-6 py-4 flex justify-between items-center" data-testid="header-nav">
    <a href="#home" class="text-xl font-bold text-warm-text hover:text-warm-accent transition-colors" data-testid="header-logo">
      Aldryan Putra
    </a>
    
    <!-- Desktop Menu -->
    <div class="hidden md:flex items-center gap-8">
      @for(link of navLinks; track link.path) {
        <a [href]="link.path" class="text-sm font-medium text-warm-text/80 hover:text-warm-accent transition-colors" [attr.data-testid]="'header-link-' + link.label.toLowerCase()">
          {{ link.label }}
        </a>
      }
      <a href="#contact" (click)="onHireMeClick($event)" class="px-5 py-2 text-sm font-medium text-white bg-warm-accent rounded-full hover:bg-warm-accent-hover transition-colors" data-testid="header-hire-me">
        Hire Me
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <div class="md:hidden">
      <button 
        (click)="toggleMenu()" 
        class="relative p-2 text-warm-text hover:bg-beige-100 rounded-lg transition-colors overflow-hidden" 
        aria-label="Toggle menu"
        data-testid="header-mobile-menu-button"
        [attr.aria-expanded]="isMenuOpen()"
        aria-controls="mobile-menu"
      >
        <div class="relative w-6 h-5 flex flex-col justify-between">
          <span 
            class="w-full h-0.5 bg-current rounded-full transition-all duration-300 origin-center"
            [class.rotate-45]="isMenuOpen()"
            [class.translate-y-[9px]]="isMenuOpen()">
          </span>
          <span 
            class="w-full h-0.5 bg-current rounded-full transition-all duration-300"
            [class.opacity-0]="isMenuOpen()"
            [class.translate-x-full]="isMenuOpen()">
          </span>
          <span 
            class="w-full h-0.5 bg-current rounded-full transition-all duration-300 origin-center"
            [class.-rotate-45]="isMenuOpen()"
            [class.-translate-y-[9px]]="isMenuOpen()">
          </span>
        </div>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div 
    id="mobile-menu"
    class="md:hidden bg-beige-100 border-t border-beige-200 grid transition-all duration-300 ease-in-out overflow-hidden"
    [class.grid-rows-[1fr]]="isMenuOpen()"
    [class.grid-rows-[0fr]]="!isMenuOpen()"
    [class.opacity-100]="isMenuOpen()"
    [class.opacity-0]="!isMenuOpen()"
    data-testid="header-mobile-menu"
  >
    <div class="min-h-0">
      <div class="flex flex-col p-4 space-y-2">
        @for(link of navLinks; track link.path) {
          <a [href]="link.path" (click)="closeMenu()" class="block px-4 py-2 text-sm font-medium text-warm-text hover:bg-beige-50 hover:text-warm-accent rounded-lg transition-colors" [attr.data-testid]="'header-mobile-link-' + link.label.toLowerCase()">
            {{ link.label }}
          </a>
        }
        <a href="#contact" (click)="onHireMeClick($event)" class="block px-4 py-2 mt-2 text-sm font-medium text-center text-white bg-warm-accent rounded-lg hover:bg-warm-accent-hover transition-colors" data-testid="header-mobile-hire-me">
          Hire Me
        </a>
      </div>
    </div>
  </div>
</header>
